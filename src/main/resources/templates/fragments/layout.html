<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(title, content)">
<head>
    <meta charset="UTF-8">
    <title th:replace="${title}">Human Beings</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script th:src="@{/js/humans.js}" defer></script>
</head>
<body>
<div class="page-wrapper">
    <header class="page-header">
        <div class="app-brand">
            <div class="brand-logo" aria-hidden="true">–õ</div>
            <div class="brand-text">
                <span class="brand-label">–ü–∞–Ω–µ–ª—å –¥–∞–Ω–Ω—ã—Ö</span>
                <h1>–õ—é–¥–∏</h1>
            </div>
        </div>
        <nav class="page-tabs" role="tablist">
            <a class="tab-link" th:classappend="${activeTab} == 'create' ? '' : 'active'" th:href="@{/humans}" role="tab">–°–ø–∏—Å–æ–∫</a>
            <a class="tab-link" th:classappend="${activeTab} == 'create' ? 'active' : ''" th:href="@{/humans/create}" role="tab">–°–æ–∑–¥–∞—Ç—å</a>
        </nav>
        <div class="user-menu" data-user-menu>
            <button class="user-avatar" type="button" data-user-toggle aria-haspopup="true" aria-expanded="false">
                <span class="avatar-circle" aria-hidden="true">üë§</span>
                <div class="user-info">
                    <span class="user-name" th:text="${currentUserName != null && !#strings.isEmpty(currentUserName) ? currentUserName : '–ì–æ—Å—Ç—å'}">–ì–æ—Å—Ç—å</span>
                    <span class="user-role" th:text="${currentUserIsAdmin ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </div>
                <span class="chevron" aria-hidden="true">‚ñæ</span>
            </button>
            <div class="user-dropdown" data-user-panel hidden>
                <p class="user-dropdown-title">–ü—Ä–æ—Ñ–∏–ª—å</p>
                <form class="user-selector" th:action="@{/humans}" method="get">
                    <label>
                        –ò–º—è
                        <input type="text" name="user" th:value="${currentUserName}" placeholder="anonymous">
                    </label>
                    <label>
                        –†–æ–ª—å
                        <select name="admin">
                            <option value="" th:selected="${!currentUserIsAdmin}">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                            <option th:value="${userSelectionAdminFlag}" th:selected="${currentUserIsAdmin}">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                        </select>
                    </label>
                    <button type="submit">–°–º–µ–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>
    </header>
    <main th:replace="${content}"></main>
    <footer class="page-footer">
        <p>&copy; 2025 –õ—é–¥–∏</p>
    </footer>
</div>
</body>
</html>
