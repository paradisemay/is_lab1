<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru" th:replace="~{fragments/layout :: layout(~{::title}, ~{::section})}">
<head>
    <title>Создание человека</title>
</head>
<body>
<section>
    <h2>Создать нового человека</h2>
    <form th:action="@{/humans}" th:object="${human}" method="post" class="form-card">
        <div class="alerts" th:if="${#fields.hasGlobalErrors()}">
            <div class="alert alert-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}"></div>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('name')} ? ' has-error'">
            <label for="name">Имя</label>
            <input id="name" type="text" th:field="*{name}" required>
            <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
            <p class="form-hint">Имя в сочетании с саундтреком должно быть уникальным.</p>
        </div>
        <div class="form-row">
            <div class="form-field" th:classappend="${#fields.hasErrors('coordinatesX')} ? ' has-error'">
                <label for="coordinatesX">Координата X</label>
                <input id="coordinatesX" type="number" th:field="*{coordinatesX}" required>
                <div class="error" th:if="${#fields.hasErrors('coordinatesX')}" th:errors="*{coordinatesX}"></div>
            </div>
            <div class="form-field" th:classappend="${#fields.hasErrors('coordinatesY')} ? ' has-error'">
                <label for="coordinatesY">Координата Y</label>
                <input id="coordinatesY" type="number" step="0.01" th:field="*{coordinatesY}">
                <div class="error" th:if="${#fields.hasErrors('coordinatesY')}" th:errors="*{coordinatesY}"></div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-field">
                <label for="realHero">Настоящий герой</label>
                <select id="realHero" th:field="*{realHero}">
                    <option value="">—</option>
                    <option value="true">Да</option>
                    <option value="false">Нет</option>
                </select>
            </div>
            <div class="form-field" th:classappend="${#fields.hasErrors('hasToothpick')} ? ' has-error'">
                <label for="hasToothpick">Есть зубочистка</label>
                <select id="hasToothpick" th:field="*{hasToothpick}">
                    <option value="true">Да</option>
                    <option value="false">Нет</option>
                </select>
                <div class="error" th:if="${#fields.hasErrors('hasToothpick')}" th:errors="*{hasToothpick}"></div>
            </div>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('impactSpeed')} ? ' has-error'">
            <label for="impactSpeed">Скорость удара</label>
            <input id="impactSpeed" type="number" min="1" max="907" th:field="*{impactSpeed}" required>
            <div class="error" th:if="${#fields.hasErrors('impactSpeed')}" th:errors="*{impactSpeed}"></div>
            <p class="form-hint">Для настоящих героев скорость удара должна быть уникальной.</p>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('soundtrackName')} ? ' has-error'">
            <label for="soundtrackName">Саундтрек</label>
            <input id="soundtrackName" type="text" th:field="*{soundtrackName}" required>
            <div class="error" th:if="${#fields.hasErrors('soundtrackName')}" th:errors="*{soundtrackName}"></div>
        </div>
        <div class="form-field">
            <label for="weaponType">Тип оружия</label>
            <select id="weaponType" th:field="*{weaponType}">
                <option value="">—</option>
                <option th:each="weapon : ${weaponTypes}" th:value="${weapon}" th:text="${weapon}"></option>
            </select>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('mood')} ? ' has-error'">
            <label for="mood">Настроение</label>
            <select id="mood" th:field="*{mood}">
                <option value="">—</option>
                <option th:each="m : ${moods}" th:value="${m}" th:text="${m}"></option>
            </select>
            <div class="error" th:if="${#fields.hasErrors('mood')}" th:errors="*{mood}"></div>
        </div>
        <div class="form-field">
            <label for="carId">Автомобиль</label>
            <select id="carId" th:field="*{carId}">
                <option value="">—</option>
                <option th:each="car : ${cars}" th:value="${car.id}" th:text="${car.name}"></option>
            </select>
        </div>
        <div class="form-actions">
            <button type="submit">Создать</button>
            <a class="button secondary" th:href="@{/humans}">Отмена</a>
        </div>
    </form>
</section>
</body>
</html>
