<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru" th:replace="fragments/layout :: layout(~{::section})">
<head>
    <title>Редактирование группы</title>
</head>
<body>
<section>
    <h2>Редактировать группу</h2>
    <form th:action="@{|/bands/${bandId}|}" th:object="${band}" method="post" class="form-card">
        <div class="form-field" th:classappend="${#fields.hasErrors('name')} ? ' has-error'">
            <label for="name">Название</label>
            <input id="name" type="text" th:field="*{name}">
            <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('impactSpeed')} ? ' has-error'">
            <label for="impactSpeed">Скорость воздействия</label>
            <input id="impactSpeed" type="number" step="0.01" th:field="*{impactSpeed}">
            <div class="error" th:if="${#fields.hasErrors('impactSpeed')}" th:errors="*{impactSpeed}"></div>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('soundtrackName')} ? ' has-error'">
            <label for="soundtrackName">Саундтрек</label>
            <input id="soundtrackName" type="text" th:field="*{soundtrackName}">
            <div class="error" th:if="${#fields.hasErrors('soundtrackName')}" th:errors="*{soundtrackName}"></div>
        </div>
        <div class="form-field" th:classappend="${#fields.hasErrors('mood')} ? ' has-error'">
            <label for="mood">Настроение</label>
            <select id="mood" th:field="*{mood}">
                <option value="">—</option>
                <option th:each="m : ${moods}" th:value="${m}" th:text="${m}"></option>
            </select>
            <div class="error" th:if="${#fields.hasErrors('mood')}" th:errors="*{mood}"></div>
        </div>
        <div class="form-field">
            <label for="carId">Автомобиль</label>
            <select id="carId" th:field="*{carId}">
                <option value="">—</option>
                <option th:each="car : ${cars}" th:value="${car.id}" th:text="${car.name}"></option>
            </select>
        </div>
        <div class="form-actions">
            <button type="submit">Сохранить</button>
            <a class="button secondary" th:href="@{|/bands/${bandId}|}">Отмена</a>
        </div>
    </form>
    <form th:action="@{|/bands/${bandId}/delete|}" method="post" class="danger-zone">
        <button type="submit" class="button danger">Удалить</button>
    </form>
</section>
</body>
</html>
